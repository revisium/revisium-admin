# ====================
# Base Configuration
# ====================
sonar.projectKey=revisium_revisium-admin
sonar.organization=revisium

# ====================
# Coverage Settings
# ====================
sonar.coverage.exclusions=**/*

# ====================
# Issue Ignore Rules
# ====================
sonar.issue.ignore.multicriteria=\
  empty1,empty2,empty3,\
  e2e1,e2e2,\
  spec1,\
  security1,security2,security3,\
  style1,style2,\
  tech1,tech2,tech3

# ====================
# Empty Methods Pattern
# ====================
# Empty init/dispose methods are acceptable design pattern for base classes and ViewModels
sonar.issue.ignore.multicriteria.empty1.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.empty1.resourceKey=**/*Model.ts

sonar.issue.ignore.multicriteria.empty2.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.empty2.resourceKey=**/StackItem.ts

sonar.issue.ignore.multicriteria.empty3.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.empty3.resourceKey=**/LinkMaker.ts

# ====================
# E2E Test Exclusions
# ====================
# Math.random() is safe in E2E tests (not security-sensitive)
sonar.issue.ignore.multicriteria.e2e1.ruleKey=typescript:S2245
sonar.issue.ignore.multicriteria.e2e1.resourceKey=**/e2e/**

# Nested functions in E2E tests are acceptable due to Playwright test structure
sonar.issue.ignore.multicriteria.e2e2.ruleKey=typescript:S2004
sonar.issue.ignore.multicriteria.e2e2.resourceKey=**/e2e/**

# ====================
# Spec File Exclusions
# ====================
# void operator is acceptable in spec files for ensuring instantiation
sonar.issue.ignore.multicriteria.spec1.ruleKey=typescript:S3735
sonar.issue.ignore.multicriteria.spec1.resourceKey=**/*.spec.ts

# ====================
# Security Hotspot Exclusions
# ====================
# npm install scripts are required for postinstall hooks
sonar.issue.ignore.multicriteria.security1.ruleKey=githubactions:S6505
sonar.issue.ignore.multicriteria.security1.resourceKey=**/.github/workflows/**

# PATH usage in dev config is safe (build tooling only)
sonar.issue.ignore.multicriteria.security2.ruleKey=typescript:S4036
sonar.issue.ignore.multicriteria.security2.resourceKey=**/vite.config.ts

# Docker COPY . is safe with proper .dockerignore
sonar.issue.ignore.multicriteria.security3.ruleKey=docker:S6470
sonar.issue.ignore.multicriteria.security3.resourceKey=**/*Dockerfile*

# ====================
# Style Exclusions
# ====================
# Array index keys are intentional in some cases (stable lists)
sonar.issue.ignore.multicriteria.style1.ruleKey=typescript:S6479
sonar.issue.ignore.multicriteria.style1.resourceKey=**/*.tsx

# Nested ternary for loading/empty/data states is common React pattern
sonar.issue.ignore.multicriteria.style2.ruleKey=typescript:S3358
sonar.issue.ignore.multicriteria.style2.resourceKey=**/*.tsx

# ====================
# Technical Debt Exclusions
# ====================
# Architecture violations in Schema model (complex domain logic)
sonar.issue.ignore.multicriteria.tech1.ruleKey=tsarchitecture:S7197
sonar.issue.ignore.multicriteria.tech1.resourceKey=**/src/entities/Schema/model/**

# Table rendering issue in RowList (virtualized table structure)
sonar.issue.ignore.multicriteria.tech2.ruleKey=typescript:S5256
sonar.issue.ignore.multicriteria.tech2.resourceKey=**/src/widgets/RowList/ui/RowList/RowList.tsx

# GitHub Actions workflow issue
sonar.issue.ignore.multicriteria.tech3.ruleKey=githubactions:S7631
sonar.issue.ignore.multicriteria.tech3.resourceKey=**/.github/workflows/deploy.yml

# ====================
# Duplicate Code Exclusions
# ====================
sonar.cpd.exclusions=\
  **/src/widgets/SchemaEditor/model/**/*Store.ts,\
  **/src/widgets/TreeDataCard/**/*,\
  **/e2e/**,\
  **/*.spec.ts
